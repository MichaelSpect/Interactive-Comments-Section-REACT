{"version":3,"sources":["Components/Atribution.js","Components/Likes.js","Components/SingleComment.js","Components/NewMsg.js","Components/DeleteComment.js","Components/CommentsList.js","App.js","index.js"],"names":["Atribution","className","href","Likes","score","allComments","setAllComments","id","useState","commScore","setCommScore","changeScoreStateHandler","newArr","map","comment","console","log","filteredReplies","replies","prevComents","onClick","prevScore","width","height","xmlns","d","fill","SingleComment","activeUser","onclickReplyHandler","singleCommentClass","index","indexParent","indexReply","displayModal","pathReply","isEdit","setIsEdit","contentEditRef","useRef","currentUser","username","src","user","image","png","alt","createdAt","commentId","deleteComment","e","target","click","current","contentEditable","suppressContentEditableWarning","ref","replyingTo","content","updatedContent","innerText","NewMsg","props","contentInputRef","userToReply","newMsgContent","setNewMsgContent","onKeyPress","enteredComment","textContent","newCommentObj","Math","floor","random","webp","btnType","newReplyObj","filter","comm","parentCommentID","parentIndex","setIsReply","DeleteComment","deleteMsg","CommentsList","showModal","setShowModal","Data","comments","isReply","commentID","setCommentID","clickReplyHandler","displayModalHandler","length","reply","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb874c9f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Styles/Atribution.css\";\r\n\r\nconst Atribution = () => {\r\n  return (\r\n    <footer className=\"attribution\">\r\n      <div>\r\n        Challenge by\r\n        <a href=\"https://www.frontendmentor.io?ref=challenge\">\r\n          {\" \"}\r\n          Frontend Mentor\r\n        </a>\r\n        .\r\n      </div>\r\n      <div>\r\n        Coded by <a href=\"https://github.com/MichaelSpect\">Michael Spect</a>.\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Atribution;\r\n","import { useState } from \"react\";\r\nimport \"./Styles/Likes.css\";\r\n\r\nconst Likes = ({ score, allComments, setAllComments, id }) => {\r\n  const [commScore, setCommScore] = useState(score);\r\n\r\n  const clickScorePlusHandler = function () {\r\n    setCommScore((prevScore) => prevScore + 1);\r\n    changeScoreStateHandler();\r\n  };\r\n  const clickScoreMinusHandler = function () {\r\n    setCommScore((prevScore) => prevScore - 1);\r\n    changeScoreStateHandler();\r\n  };\r\n  const changeScoreStateHandler = function () {\r\n    const newArr = allComments.map(function (comment) {\r\n      console.log(comment.score, commScore);\r\n      if (comment.id === id) return { ...comment, score: commScore };\r\n      const filteredReplies = comment.replies.map((comment) =>\r\n        comment.id === id ? { ...comment, score: commScore } : comment\r\n      );\r\n      return { ...comment, replies: filteredReplies };\r\n    });\r\n    setAllComments((prevComents) => newArr);\r\n  };\r\n\r\n  return (\r\n    <div className=\"likes-container\">\r\n      <div className=\"score-plus\" onClick={clickScorePlusHandler}>\r\n        <svg width=\"11\" height=\"11\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M6.33 10.896c.137 0 .255-.05.354-.149.1-.1.149-.217.149-.354V7.004h3.315c.136 0 .254-.05.354-.149.099-.1.148-.217.148-.354V5.272a.483.483 0 0 0-.148-.354.483.483 0 0 0-.354-.149H6.833V1.4a.483.483 0 0 0-.149-.354.483.483 0 0 0-.354-.149H4.915a.483.483 0 0 0-.354.149c-.1.1-.149.217-.149.354v3.37H1.08a.483.483 0 0 0-.354.15c-.1.099-.149.217-.149.353v1.23c0 .136.05.254.149.353.1.1.217.149.354.149h3.333v3.39c0 .136.05.254.15.353.098.1.216.149.353.149H6.33Z\"\r\n            fill=\"#C5C6EF\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div className=\"score-value\">{commScore}</div>\r\n      <div className=\"score-minus\" onClick={clickScoreMinusHandler}>\r\n        <svg width=\"11\" height=\"3\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M9.256 2.66c.204 0 .38-.056.53-.167.148-.11.222-.243.222-.396V.722c0-.152-.074-.284-.223-.395a.859.859 0 0 0-.53-.167H.76a.859.859 0 0 0-.53.167C.083.437.009.57.009.722v1.375c0 .153.074.285.223.396a.859.859 0 0 0 .53.167h8.495Z\"\r\n            fill=\"#C5C6EF\"\r\n          />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Likes;\r\n","import React, { useState, useRef } from \"react\";\r\nimport \"./Styles/SingleComment.css\";\r\nimport Likes from \"./Likes\";\r\n\r\nconst SingleComment = ({\r\n  comment,\r\n  activeUser,\r\n  onclickReplyHandler,\r\n  singleCommentClass,\r\n  allComments,\r\n  setAllComments,\r\n  index,\r\n  indexParent,\r\n  indexReply,\r\n  pathReply,\r\n  displayModal,\r\n}) => {\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const contentEditRef = useRef();\r\n  let currentUser = \"\";\r\n  if (activeUser) {\r\n    currentUser = activeUser.username;\r\n  }\r\n\r\n  const clickEditHandler = function (e) {\r\n    // Activate contentEditable atribut on content comment\r\n    setIsEdit(true);\r\n    e.target.click();\r\n    contentEditRef.current.click();\r\n  };\r\n  const clickDeleteHandler = function (commentId) {\r\n    displayModal(commentId);\r\n  };\r\n\r\n  const updateCommentHandler = function () {\r\n    const updatedContent = contentEditRef.current.innerText;\r\n    // const newEditedObj = { ...comment, content: updatedContent };\r\n\r\n    // Update comment on replies array of parent object\r\n    allComments[indexParent]\r\n      ? (allComments[indexParent].replies[indexReply].content = updatedContent)\r\n      : (allComments[index].content = updatedContent);\r\n    setIsEdit(false);\r\n    // console.log(allComments);\r\n    // Update via setAllComments state - Doesn't work...  Unfinished!\r\n    // setAllComments((prevComents) =>\r\n    //   prevComents.splice(indexParent, 1, {\r\n    //     ...prevComents[indexParent],\r\n    //     replies: [\r\n    //       ...prevComents[indexParent].replies[indexReply],\r\n    //       newEditedObj,\r\n    //     ],\r\n    //   })\r\n    // );\r\n  };\r\n  return (\r\n    <section className={singleCommentClass}>\r\n      <Likes\r\n        score={comment.score}\r\n        id={comment.id}\r\n        comment={comment}\r\n        allComments={allComments}\r\n        setAllComments={setAllComments}\r\n      />\r\n\r\n      <div className=\"header-left\">\r\n        <div className=\"user-avatar\">\r\n          <img src={comment.user.image.png} alt=\"user-avatar\" />\r\n        </div>\r\n        <div className=\"user-name\">\r\n          {comment.user.username}\r\n          {comment.user.username === currentUser && (\r\n            <span className=\"active-user\">you</span>\r\n          )}\r\n        </div>\r\n        <div className=\"date-created\">{comment.createdAt}</div>\r\n      </div>\r\n\r\n      <div className=\"header-right\">\r\n        {comment.user.username === currentUser ? (\r\n          <div className=\"header-right user-edit\">\r\n            <div className=\"delete\">\r\n              <img src=\"./images/icon-delete.svg\" alt=\"\" />\r\n              <div\r\n                className=\"call-action delete\"\r\n                onClick={() => clickDeleteHandler(comment.id)}\r\n                deleteComment={comment.id}\r\n              >\r\n                Delete\r\n              </div>\r\n            </div>\r\n            <div className=\"edit\">\r\n              <img src=\"./images/icon-edit.svg\" alt=\"img-edit\" />\r\n              <div className=\"call-action edit\" onClick={clickEditHandler}>\r\n                Edit\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"header-right header-reply\"\r\n            onClick={() => onclickReplyHandler(comment.id)}\r\n          >\r\n            <img src=\"./images/icon-reply.svg\" alt=\"img-reply\" />\r\n            <div className=\"call-action\">Reply</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {/* COMMENT CONTENT SECTION */}\r\n      <div\r\n        className=\"comment-content\"\r\n        contentEditable={isEdit ? \"true\" : \"false\"}\r\n        suppressContentEditableWarning={true}\r\n        ref={contentEditRef}\r\n      >\r\n        {comment.replyingTo ? (\r\n          <span className=\"reply-to\">@{comment.replyingTo} </span>\r\n        ) : (\r\n          false\r\n        )}\r\n        {comment.content}\r\n      </div>\r\n      {/* UPDATE BUTTON */}\r\n      {isEdit && (\r\n        <button className=\"button update-btn\" onClick={updateCommentHandler}>\r\n          UPDATE\r\n        </button>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\nexport default SingleComment;\r\n","import React, { useState, useRef } from \"react\";\r\nimport \"./Styles/NewMsg.css\";\r\n\r\nfunction NewMsg(props) {\r\n  const contentInputRef = useRef();\r\n  const [newMsgContent, setNewMsgContent] = useState(\r\n    props.userToReply\r\n      ? `@${props.userToReply} Add a comment...`\r\n      : \"Add a comment...\"\r\n  );\r\n  const createID = function () {\r\n    return Math.floor(Math.random() * 1000);\r\n  };\r\n\r\n  const sendMsgHandler = function () {\r\n    const enteredComment = contentInputRef.current.textContent;\r\n    const newCommentObj = {\r\n      id: createID(),\r\n      content: enteredComment,\r\n      createdAt: \"now\",\r\n      score: 0,\r\n      user: {\r\n        image: {\r\n          png: props.activeUser.image.png,\r\n          webp: props.activeUser.image.webp,\r\n        },\r\n        username: props.activeUser.username,\r\n      },\r\n      replies: [],\r\n    };\r\n\r\n    if (props.btnType === \"SEND\") {\r\n      props.setAllComments((prevComents) => [...prevComents, newCommentObj]);\r\n      setNewMsgContent(\"Add a comment...\");\r\n    }\r\n    if (props.btnType === \"REPLY\") {\r\n      const newReplyObj = { ...newCommentObj, replyingTo: props.userToReply };\r\n\r\n      props.setAllComments((prevComents) => [\r\n        ...prevComents.filter((comm) => comm.id !== props.parentCommentID),\r\n        {\r\n          ...prevComents[props.parentIndex],\r\n          replies: [...prevComents[props.parentIndex].replies, newReplyObj],\r\n        },\r\n      ]);\r\n      // CLose reply window after submit reply\r\n      props.setIsReply(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"single-comment new-msg\">\r\n      <div className=\"user-avatar\">\r\n        <img src={props.activeUser.image.png} alt=\"user-avatar\" width=\"35\" />\r\n      </div>\r\n      <div\r\n        className=\"new-content msg-editable\"\r\n        contentEditable=\"true\"\r\n        suppressContentEditableWarning={true}\r\n        data-placeholder=\" Add a comment...\"\r\n        onKeyPress={() => setNewMsgContent(\"\")}\r\n        ref={contentInputRef}\r\n      >\r\n        {newMsgContent}\r\n      </div>\r\n      <button className=\"button send-btn\" onClick={sendMsgHandler}>\r\n        {props.btnType}{\" \"}\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default NewMsg;\r\n","import React from \"react\";\r\nimport \"./Styles/DeleteComment.css\";\r\n\r\nconst DeleteComment = (props) => {\r\n  const deleteHandler = function () {\r\n    // Call delete function from CommentsList.js via props and send comment.id to delete\r\n    props.deleteMsg(props.id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-container\">\r\n      <div className=\"modal-overlay\">\r\n        <h3>Delete comment</h3>\r\n        <p>\r\n          Are you sure you want to delete this comment? This will remove the\r\n          comment and can't be undone.\r\n        </p>\r\n        <footer className=\"modal-footer\">\r\n          <button className=\"btn-cancel\" onClick={props.displayModal}>\r\n            NO, CANCEL\r\n          </button>\r\n          <button className=\"btn-delete\" onClick={deleteHandler}>\r\n            YES, DELETE\r\n          </button>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteComment;\r\n","import React, { useState } from \"react\";\r\n// import ReactDOM from \"react-dom\";\r\nimport \"./Styles/CommentsList.css\";\r\nimport Data from \"../data.json\";\r\nimport SingleComment from \"./SingleComment\";\r\nimport NewMsg from \"./NewMsg\";\r\nimport DeleteComment from \"./DeleteComment\";\r\n// import { useEffect } from \"react/cjs/react.development\";\r\n\r\nconst CommentsList = () => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const { currentUser, comments } = Data;\r\n  const [allComments, setAllComments] = useState(comments);\r\n  const [isReply, setIsReply] = useState(false);\r\n  const [commentID, setCommentID] = useState(0);\r\n\r\n  const clickReplyHandler = function (id) {\r\n    setIsReply(true);\r\n    setCommentID(id);\r\n  };\r\n\r\n  const displayModalHandler = function (id) {\r\n    showModal ? setShowModal(false) : setShowModal(true);\r\n    // Passing by id from SingleComment to DeleteComment props\r\n    // commentIdToDelete = id;\r\n    setCommentID(id);\r\n  };\r\n  const deleteCommentHandler = function (id) {\r\n    // Iteration to filter main comments level\r\n    const mainCommentsArr = allComments.filter((comment) => comment.id !== id);\r\n    // Iteration to filter replies comments level\r\n    const newArr = mainCommentsArr.map(function (comment) {\r\n      const filteredReplies = comment.replies.filter(\r\n        (comment) => comment.id !== id\r\n      );\r\n      return { ...comment, replies: filteredReplies };\r\n    });\r\n    setAllComments(newArr);\r\n    displayModalHandler();\r\n  };\r\n\r\n  return (\r\n    <section className=\"comments-list\">\r\n      {showModal && (\r\n        <DeleteComment\r\n          displayModal={displayModalHandler}\r\n          deleteMsg={deleteCommentHandler}\r\n          id={commentID}\r\n        />\r\n      )}\r\n      {allComments.map((comment, index) => (\r\n        <div key={comment.id}>\r\n          {/* {showModal && (\r\n            <DeleteComment\r\n              displayModal={displayModalHandler}\r\n              deleteMsg={deleteCommentHandler}\r\n              id={comment.id}\r\n            />\r\n          )} */}\r\n          <SingleComment\r\n            singleCommentClass=\"single-comment\"\r\n            activeUser={currentUser}\r\n            key={comment.id}\r\n            comment={comment}\r\n            allComments={allComments}\r\n            setAllComments={setAllComments}\r\n            index={index}\r\n            displayModal={displayModalHandler}\r\n            onclickReplyHandler={clickReplyHandler}\r\n          />\r\n\r\n          {isReply && comment.id === commentID && (\r\n            <NewMsg\r\n              activeUser={currentUser}\r\n              userToReply={comment.user.username}\r\n              btnType=\"REPLY\"\r\n              allComments={allComments}\r\n              setAllComments={setAllComments}\r\n              parentCommentID={comment.id}\r\n              parentIndex={index}\r\n              setIsReply={setIsReply}\r\n            />\r\n          )}\r\n          {comment.replies.length > 0 && (\r\n            <section className=\"section-reply\">\r\n              {comment.replies.map((reply, indexReply) => (\r\n                <div key={reply.id}>\r\n                  {/* {showModal && (\r\n                    <DeleteComment\r\n                      displayModal={displayModalHandler}\r\n                      deleteMsg={deleteCommentHandler}\r\n                      id={reply.id}\r\n                    />\r\n                  )} */}\r\n                  <SingleComment\r\n                    singleCommentClass=\"single-comment reply-msg\"\r\n                    activeUser={currentUser}\r\n                    key={reply.id}\r\n                    comment={reply}\r\n                    allComments={allComments}\r\n                    setAllComments={setAllComments}\r\n                    indexParent={index}\r\n                    indexReply={indexReply}\r\n                    displayModal={displayModalHandler}\r\n                    onclickReplyHandler={clickReplyHandler}\r\n                  />\r\n                  {isReply && reply.id === commentID && (\r\n                    <NewMsg\r\n                      activeUser={currentUser}\r\n                      userToReply={reply.user.username}\r\n                      btnType=\"REPLY\"\r\n                      allComments={allComments}\r\n                      setAllComments={setAllComments}\r\n                      parentCommentID={comment.id}\r\n                      parentIndex={index}\r\n                      setIsReply={setIsReply}\r\n                    />\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </section>\r\n          )}\r\n        </div>\r\n      ))}\r\n      <NewMsg\r\n        activeUser={currentUser}\r\n        btnType=\"SEND\"\r\n        allComments={allComments}\r\n        setAllComments={setAllComments}\r\n      />\r\n    </section>\r\n  );\r\n};\r\nexport default CommentsList;\r\n","import React from \"react\";\r\nimport Atribution from \"./Components/Atribution\";\r\nimport CommentsList from \"./Components/CommentsList\";\r\nimport \"./Components/Styles/App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <section className=\"main-container\">\r\n      <h1>Frontend Mentor - Interactive comments section</h1>\r\n      <CommentsList />\r\n      <Atribution />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}